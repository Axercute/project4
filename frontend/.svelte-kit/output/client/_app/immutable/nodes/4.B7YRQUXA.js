import"../chunks/CWj6FrbW.js";import"../chunks/EsMjB-o5.js";import{o as z}from"../chunks/DDNJlhGV.js";import{g as A,p as B,f as g,a as E,b as u,c as G,s as h,d as o,h as c,m as b,i as e,r as s,t as $,e as n,j as H}from"../chunks/DGUbBfuZ.js";import{e as M,i as D}from"../chunks/BODkbvgv.js";import{s as I}from"../chunks/HldVw0Pv.js";import{i as J}from"../chunks/DFue-NaN.js";import{g as K}from"../chunks/B0lz7bPj.js";var L=(p,d,i)=>d(e(i)),N=g("<div> </div>"),O=(p,d,i)=>{d(e(i)._id)},Q=g('<div class="bg-red-800 text-white text-md font-semibold rounded-xl p-4 shadow"><div class="mb-1 text-lg font-bold"> </div> <div class="mb-2 text-sm"> </div> <div class="text-right text-md font-bold"> </div></div>'),R=g('<div class="flex flex-wrap justify-center mt-3"></div> <div class="w-full flex justify-center px-4"><div class="w-full max-w-4xl flex flex-col gap-4 mt-5"></div></div>',1);function at(p,d){B(d,!1);let i=[],m=b([]),l=b(),f=b([]);z(async()=>{i=await(await fetch("http://localhost:3000/appointment")).json(),i.sort((t,a)=>new Date(t.date)-new Date(a.date)),c(m,[...new Set(i.map(t=>t.date))]),c(l,e(m)[0]),c(f,i.filter(t=>t.date===e(l)))});const q=r=>{c(l,r),c(f,i.filter(t=>t.date===e(l)))},C=r=>{K(`/appointment/${r}`)};J();var w=R(),_=E(w);M(_,5,()=>e(m),D,(r,t)=>{var a=N();a.__click=[L,q,t];var v=o(a,!0);s(a),$(()=>{I(a,1,`px-4 py-2 font-semibold bg-red-400 border border-black text-white
                ${e(l)===e(t)?"bg-red-800":"text-red-800"}`),n(v,e(t))}),u(r,a)}),s(_);var k=h(_,2),y=o(k);M(y,5,()=>e(f),D,(r,t)=>{var a=Q();a.__click=[O,C,t];var v=o(a),F=o(v,!0);s(v);var x=h(v,2),P=o(x,!0);s(x);var j=h(x,2),S=o(j);s(j),s(a),$(T=>{n(F,e(t).name),n(P,e(t).time),n(S,`Total price roughly: $${T??""}`)},[()=>e(t).price.toFixed(2)],H),u(r,a)}),s(y),s(k),u(p,w),G()}A(["click"]);export{at as component};
