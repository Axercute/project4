import"../chunks/CWj6FrbW.js";import"../chunks/EsMjB-o5.js";import{p as A,f as b,t as h,V as S,b as v,c as I,s as u,d as i,m as V,r as s,$ as g,v as m,e as _,i as n,h as B}from"../chunks/DGUbBfuZ.js";import{i as C}from"../chunks/EtgRPtOJ.js";import{e as D,i as E}from"../chunks/BODkbvgv.js";import{s as F}from"../chunks/HldVw0Pv.js";import{i as L}from"../chunks/DFue-NaN.js";import{p as N}from"../chunks/KOxa7oZM.js";import{g as P}from"../chunks/B0lz7bPj.js";async function T(){console.log("hi");const d=localStorage.getItem("token");if(!d){window.location.href="/login";return}const o=await fetch("http://localhost:3000/dashboard",{headers:{Authorization:`Bearer ${d}`}});if(o.status===401){window.location.href="/login";return}if(!o.ok)throw new Error("Failed to load dashboard data");const l=await o.json();return{user:l.user,message:l.message}}const ee=Object.freeze(Object.defineProperty({__proto__:null,load:T},Symbol.toStringTag,{value:"Module"}));var U=b('<p class="text-green-500"> </p>'),W=b("<div> </div>"),q=b('<main><div class="flex justify-end items-center mt-3 mr-4"><a href="#" class="text-red-600 hover:text-red-800">Log Out</a></div> <h1> </h1> <!> <div class="flex flex-wrap justify-center mt-3 gap-3"></div></main>');function ae(d,o){A(o,!1);function l(){localStorage.removeItem("token"),window.location.href="/admin"}let r=N(o,"data",8);const x=[{display:"Dashboard",path:"dashboard"},{display:"Service Management",path:"service-management"},{display:"Appointment Management",path:"appointment-management"},{display:"View Site",path:"view-site"}];let w=V(x[0]);const j=e=>{B(w,e),e.path&&P(`/dashboard/${e.path}`)};L();var p=q(),c=i(p),$=i(c);s(c);var f=u(c,2),M=i(f);s(f);var k=u(f,2);{var O=e=>{var a=U(),t=i(a,!0);s(a),h(()=>_(t,(g(r()),m(()=>r().message)))),v(e,a)};C(k,e=>{g(r()),m(()=>r().message)&&e(O)})}var y=u(k,2);D(y,5,()=>x,E,(e,a)=>{var t=W(),z=i(t,!0);s(t),h(()=>{F(t,1,`px-4 py-2 font-semibold bg-red-400 border border-black text-white
                ${n(w)===n(a)?"bg-red-800":"text-red-800"}`),_(z,(n(a),m(()=>n(a).display)))}),S("click",t,()=>j(n(a))),v(e,t)}),s(y),s(p),h(()=>_(M,`Welcome, ${g(r()),m(()=>{var e;return((e=r().user)==null?void 0:e.name)||"User"})??""}!`)),S("click",$,l),v(d,p),I()}export{ae as component,ee as universal};
