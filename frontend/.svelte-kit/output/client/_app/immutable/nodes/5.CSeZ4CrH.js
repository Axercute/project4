import"../chunks/Bzak7iHL.js";import{p as G,f as N,a as H,d as t,g as o,s,t as J,b as C,c as K,h as f,i as j,r as a,n as S,j as M}from"../chunks/CJVsommG.js";import{d as R,s as I,e as W}from"../chunks/Bvs2wB4v.js";import{i as X}from"../chunks/DKAvoKBK.js";import{s as q,r as B}from"../chunks/CQT5mLoH.js";import{b as F}from"../chunks/B6hzIB13.js";import{r as Q}from"../chunks/DGNCt3uT.js";import{a as O}from"../chunks/Cz0CWeBA.js";import{i as V}from"../chunks/BYlzNyLa.js";const Y=()=>{O.remove("token"),O.remove("role"),window.location.href="/"};var Z=N(`<form class="flex flex-col items-center justify-center absolute 
         top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
         h-35 w-90 bg-red-800 z-20 rounded-2xl text-white font-semibold p-4 border-2 border-white"><div class="w-full text-center"><label for="profileChange" class="block mb-2">Input a link to change your profile picture</label> <input type="text" id="profileChange" placeholder="https://thafd.bing.com/th/id/OIP.wjmWAMUiIG0lX-0asSDmCwHaEK?w=181&amp;h=102&amp;c=7&amp;r=0&amp;o=7&amp;dpr=3&amp;pid=1.7&amp;rm=3" class="text-center w-full text-black rounded"/></div> <div class="flex w-full justify-between "><button type="submit" class="bg-red-400 hover:bg-green-400 px-6 rounded text-webdarkpurple">Submit</button> <button type="button" class="bg-red-400 hover:bg-green-400 px-6 rounded text-webdarkpurple">Cancel</button></div> <a href="https://www.image2url.com/" target="blank" class="text-center text-red-200">Click here to convert your image to link</a></form>`),$=N(`<!> <div class="flex-center"><div class="rounded-2xl flex flex-col m-2 font-semibold bg-webpink border border-white 
text-white justify-center overflow-hidden w-full md:w-150 xl:w-250 bg-[#7d1b1f]"><div class="flex flex-row w-full"><div class="flex flex-col w-1/2"><img alt="StaffPicture" class="h-50 cursor-pointer border-2 xl:h-120 border-black"/></div> <div class="flex flex-col w-1/2 justify-center p-2"><div class="font-bold"> </div> <div class="font-bold"> </div> <div class="font-bold">Last Checked In:</div> <div class="font-bold">Last Checked Out:</div> <button class="bg-red-400 hover:bg-green-400">Log Out</button></div></div> <button class="bg-red-400 hover:bg-green-400">Check In</button> <button class="bg-red-400 hover:bg-green-400">Check Out</button></div></div>`,1);function de(L,l){G(l,!0),Q.set(l.data.user.role);let n=j(!1),i=j("");const P=async()=>{try{if(f(i).length>300){alert("Link is too long!"),o(n,!1),o(i,"");return}const e={prompt:f(i),staffName:l.data.user.staffName},d=await(await fetch("/api/login/profileUpdate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).json();console.log("update pfp completed",d),V(),o(n,!1),o(i,"")}catch(e){throw console.log(e),new Error(e.message)}};var b=$(),g=H(b);{var A=e=>{var r=Z(),d=t(r),p=s(t(d),2);B(p),M(p),a(d);var k=s(d,2),D=s(t(k),2);D.__click=function(...v){var y;(y=o(n,!1))==null||y.apply(this,v)},a(k),S(2),a(r),W("submit",r,P),F(p,()=>f(i),v=>o(i,v)),C(e,r)};X(g,e=>{f(n)&&e(A)})}var h=s(g,2),x=t(h),w=t(x),c=t(w);c.__click=function(...e){var r;(r=o(n,!0))==null||r.apply(this,e)};var E=t(c);a(c);var _=s(c,2),u=t(_),T=t(u);a(u);var m=s(u,2),U=t(m);a(m);var z=s(m,6);z.__click=[Y],a(_),a(w),S(4),a(x),a(h),J(()=>{q(E,"src",l.data.user.profilePicture),I(T,`Staff Name: ${l.data.user.staffName??""}`),I(U,`Role: ${l.data.user.role??""}`)}),C(L,b),K()}R(["click"]);export{de as component};
