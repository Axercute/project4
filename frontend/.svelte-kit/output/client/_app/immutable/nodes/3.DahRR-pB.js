import"../chunks/Bzak7iHL.js";import{p as x,f as _,aw as S,h as a,b as j,c as E,s,d as o,r as i,H as I,l as n,G as w}from"../chunks/DLapP2ot.js";import{r as h}from"../chunks/BPzzhau8.js";import{b as g}from"../chunks/BM-KF4o3.js";import{g as O}from"../chunks/B_39ON7K.js";const P=async l=>{try{const e=await(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();if(e.err)throw new Error(e.err);if(e.jwt)return localStorage.setItem("token",e.jwt),JSON.parse(atob(e.jwt.split(".")[1])).payload;throw new Error("Invalid response from server")}catch(r){throw console.log(r),new Error(r.message)}};var k=_(`<div class="h-screen justify-center items-center flex"><form class="bg-gradient-to-br from-[#7d1b1f] to-red-700
flex-center flex-col w-[75%] rounded-2xl outline-2 outline-white shadow-2xl shadow-cyan-800 p-2  md:w-1/3 "><div class="text-white m-2 font-semibold text-center">Pleae enter your admin login details below</div> <div><label for="email" class="text-white">Email:</label> <input id="email" type="email" required/></div> <div><label for="password" class="text-white">Password:</label> <input id="password" type="password" required/></div> <div><button class="text-black bg-white hover:bg-green-400" type="submit">Sign In</button></div></form></div>`);function G(l,r){x(r,!0);let e=w(""),d=w(""),f=w("");const y=async()=>{try{const t={email:a(e),password:a(d)},q=await P(t);n(f,"Successfully logged in"),O("/dashboard")}catch(t){n(f,t.message,!0)}};var m=k(),c=o(m),p=s(o(c),2),u=s(o(p),2);h(u),i(p);var v=s(p,2),b=s(o(v),2);h(b),i(v),I(2),i(c),i(m),S("submit",c,y),g(u,()=>a(e),t=>n(e,t)),g(b,()=>a(d),t=>n(d,t)),j(l,m),E()}export{G as component};
