import"../chunks/Bzak7iHL.js";import{o as u}from"../chunks/B4_ZOPMU.js";import{p as f,f as g,b as _,c as d,j as a,u as s,d as h,r as v}from"../chunks/DwOnz62-.js";import{_ as w,g as $}from"../chunks/C_W8caPY.js";import{R as x}from"../chunks/C5785z_Q.js";import{g as S}from"../chunks/BDAyPlZR.js";import{l as n}from"../chunks/-biBc14d.js";var j=g("<div><!></div>");function E(m,p){f(p,!0);const c=s(()=>w($("main")));n.set(!1);let t;u(async()=>{const r=localStorage.getItem("token");if(!r){S("/admin");return}try{t=await(await fetch("/api/protection",{headers:{Authorization:`Bearer ${r}`}})).json(),n.set(t.loginStatus),console.log(t.user.email)}catch(e){n.set(!1),console.error("Error fetching appointments:",e)}});var o=j(),l=h(o);{let r=s(()=>a(c).cx(38)),e=s(()=>{var i;return[(i=t==null?void 0:t.user)==null?void 0:i.email]});x(l,{get x(){return a(r)},get a(){return a(e)}})}v(o),_(m,o),d()}export{E as component};
