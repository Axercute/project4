import"../chunks/Bzak7iHL.js";import{i as l}from"../chunks/BIIzcwk0.js";import{o as p}from"../chunks/D3iqVyHi.js";import{p as c,f,t as u,b as g,c as d,l as h,A as v,h as r,d as _,r as b,e as k}from"../chunks/DLapP2ot.js";import{g as x}from"../chunks/BYU3jfti.js";import{l as s}from"../chunks/DE-R8t2k.js";var S=f("<div> </div>");function B(i,n){c(n,!1),s.set(!1);let o=v();p(async()=>{const e=localStorage.getItem("token");if(!e){x("/admin");return}try{const t=await fetch("/api/protection",{headers:{Authorization:`Bearer ${e}`}});h(o,await t.json()),s.set(r(o).loginStatus),console.log(r(o).user.email)}catch(t){s.set(!1),console.error("Error fetching appointments:",t)}}),l();var a=S(),m=_(a);b(a),u(()=>{var e,t;return k(m,`Welcome back ${((t=(e=r(o))==null?void 0:e.user)==null?void 0:t.email)??""}`)}),g(i,a),d()}export{B as component};
